# 現在の課題

## 精度状況

| テスト条件 | 精度 |
|---|---|
| 学習データ（873発話、VOICEVOX 18話者） | 820/873 (93.9%) |
| コーパス内文 × VOICEPEAK neutral | 10/10 (100%) |
| コーパス内文 × VOICEPEAK 感情50% | 9/10 (90%) |
| コーパス外文 × VOICEPEAK neutral | 4/10 (40%) |
| コーパス内文 × VOICEPEAK 感情100% | 2/10 (20%) |

## 課題一覧

### 1. LM未知文への汎化性能が低い

コーパス内文なら話者が変わっても100%だが、コーパス外文では40%まで低下する。現在のLMは554ユニグラム・1290バイグラムと小規模で、未知バイグラムへの補正力が弱い。辞書を649語に絞っているため、LM語彙外の単語は認識不能。

- 「猫が窓で寝る」→「猫が終わる」（「窓」「寝る」がLMで弱い）
- 「魚と野菜を買う」→「魚を撮り野菜を買う」（「魚 と」のバイグラム不足）

### 2. 感情・発話スタイル変動への音響モデル頑健性

感情パラメーター100%で2/10まで劣化。MFCC特徴量ベースのHMMはピッチ変動・話速変化・声質変化に弱い。AM学習データはVOICEVOXの平坦な合成音声のみで、発話スタイルの多様性がない。

- 「電車に乗る」→「電車に飲む」（despising=100で「のる」→「のむ」混同）
- 「朝ごはんを食べる」→「朝ごはんを買う」（lamenting=100で「たべる」→「かう」混同）

### 3. 短い単語・助詞の音響的曖昧性

1〜2音素の助詞（と/を/に/が/で/から/まで）や短い動詞末尾の弁別がAMレベルで不安定。LMの補正がないとほぼ確実に誤る。

- 「と」→「を撮り」
- 「から」→「まで」/「に」
- 「見る」→「切る」

### 4. 辞書サイズとLMカバレッジのトレードオフ

- 大辞書(341K語): 偽マッチが多発し精度低下（93.9%→84.6%）
- 小辞書(649語): LM語彙外の単語は認識不能でコーパス外テストに致命的
- 中間的な辞書戦略が未確立

### 5. 学習データの話者・音源多様性の不足

全学習データがVOICEVOX合成音声のみ。人間の音声やVOICEPEAK等の異なる合成エンジンの音声は未学習。話者正規化（VTLN等）やデータ拡張（速度変換・ピッチシフト・ノイズ付加）も未実装。

## 改善方向

| 優先度 | 施策 | 期待効果 |
|---|---|---|
| 高 | LM拡充（コーパス増・トライグラム化） | コーパス外文の精度向上 |
| 高 | 辞書戦略の改善（LM語彙＋高頻度語の中間辞書、動的OOV処理） | 大辞書の偽マッチ排除と語彙カバレッジの両立 |
| 中 | AM学習データの多様化（VOICEPEAK音声・ピッチシフトデータの追加学習） | 話者・発話スタイル汎化 |
| 中 | 音響特徴量の頑健化（デルタ・デルタデルタ特徴量、VTLN） | 感情変動への耐性向上 |
